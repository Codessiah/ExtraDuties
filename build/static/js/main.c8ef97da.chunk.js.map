{"version":3,"sources":["utils/firebase.js","utils/site-context.js","utils/util-route.js","pages/login-page.jsx","components/input-box.jsx","components/event-box.jsx","utils/judge-role.js","components/user-box.jsx","components/user-event-box.jsx","components/combo-box.jsx","pages/console-page.jsx","pages/unknown-page.jsx","App.jsx","index.js"],"names":["fapp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","getFirestore","auth","getAuth","users","collection","roles","events","settings","SiteContext","createContext","UtilRoute","Component","component","redirect","authed","unauthed","rest","user","useContext","render","props","to","pathname","state","from","location","LoginPage","useState","undefined","error","setError","loading","setLoading","handleSubmit","e","a","preventDefault","username","target","value","password","q","query","where","getDocs","presetUser","size","docs","data","setup","newpw","prompt","length","retypepw","setPersistence","browserSessionPersistence","createUserWithEmailAndPassword","email","newUser","tmp","setDoc","doc","uid","deleteDoc","id","message","signInWithEmailAndPassword","className","onSubmit","disabled","name","type","placeholder","InputBox","v","inputBoxes","defaultValue","ref","rawtime","Date","toDate","toISOString","dateValue","date","format","timeValue","EventBox","i","editing","setEditing","usersCache","saveEventChanges","removeAssigned","removeEvent","category","createRef","description","job","start","end","localAssigned","find","vv","assigned","localFullname","firstname","lastname","title","onClick","xmlns","width","height","fill","viewBox","d","toLocaleDateString","onDoubleClick","toLocaleTimeString","judgeRole","snapshot","exists","isSuperAdmin","isAdmin","UserBox","saveUserChanges","removeUser","rolesCache","userPromotion","userRole","localRole","UserEventBox","takeEvent","cancelEvent","searchMethod","ComboBox","onMenuSelect","label","val","setVal","isSearchable","options","onChange","ConsolePage","AdminConsole","UserConsole","tab","setTab","eventsCache","setEventsCache","setUsersCache","setRolesCache","fileRef","userData","headers","filename","eventsCsvReport","setEventsCsvReport","usersCsvReport","setUsersCsvReport","EventsCsvDownloader","UsersCsvDownloader","useEffect","loadData","generateCsv","onSnapshot","orderBy","qs","current","parse","pstart","pend","setHours","getHours","setMinutes","getMinutes","updateDoc","index","fbClearEvents","eventsDocs","clearAllEvent","shiftKey","confirm","addEvent","sdate","sstart","send","addDoc","alert","fbClearUser","usersDocs","useful","filter","filtered","clearAllUser","addUser","leftover","fileUploadAction","click","eventsCsv","map","Object","key","usersCsv","optionsSize","hidden","filePath","files","Papa","complete","csvfile","header","accept","selected","signOut","class","link","String","Math","floor","random","first","last","then","catch","err","updateEmail","currentUser","pw","updatePassword","openingTime","setOpeningTime","closingTime","setClosingTime","setSearchMethod","eventsDoc","usersDoc","getDoc","timing","open","close","currentTime","getUTCHours","getUTCMinutes","time","hours","mins","setUTCHours","setUTCMinutes","setSeconds","convUtc","UnknownPage","App","setUser","setUserData","setUserRole","unsub","onAuthStateChanged","u","loginUser","logoutUser","userDataDoc","userRoleDoc","document","Provider","exact","path","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.c8ef97da.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getFirestore, collection } from 'firebase/firestore';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDs1cgOV_3fHgQzHpxjU0dLJ5UOUu5f0bk\",\r\n    authDomain: \"extra-duties.firebaseapp.com\",\r\n    projectId: \"extra-duties\",\r\n    storageBucket: \"extra-duties.appspot.com\",\r\n    messagingSenderId: \"600260284146\",\r\n    appId: \"1:600260284146:web:7367a4a68c2dbdc57bca6b\"\r\n};\r\n\r\nconst fapp = initializeApp(firebaseConfig);\r\nconst firestore = getFirestore(fapp);\r\nconst auth = getAuth(fapp);\r\n\r\nconst users = collection(firestore, \"users\");\r\nconst roles = collection(firestore, \"roles\");\r\nconst events = collection(firestore, \"events\");\r\nconst settings = collection(firestore, \"settings\");\r\n\r\nexport { auth, users, roles, events, settings };\r\n","import { createContext } from \"react\";\r\n\r\nlet SiteContext = createContext();\r\n\r\nexport default SiteContext;\r\n","import { Redirect, Route } from \"react-router\";\r\nimport { useContext } from \"react\";\r\nimport SiteContext from \"./site-context\";\r\n\r\nexport default function UtilRoute({ component: Component, redirect, authed, unauthed, ...rest }) {\r\n    let { user } = useContext(SiteContext);\r\n\r\n    // Doesn't matter\r\n    if (!authed && !unauthed)\r\n        return <Route render={props => <Component {...props} />} {...rest} />\r\n\r\n    // Logged in\r\n    if (authed && user)\r\n        return <Route render={props => <Component {...props} />} {...rest} />\r\n\r\n    // Logged out\r\n    if (unauthed && !user)\r\n        return <Route render={props => <Component {...props} />} {...rest} />\r\n\r\n    // Redirect\r\n    return <Route render={props => <Redirect to={{ pathname: redirect, state: { from: props.location } }} />} {...rest} />\r\n}\r\n","import './login-page.scss';\r\nimport { auth, users } from '../utils/firebase';\r\nimport { query, doc, where, getDocs, setDoc, deleteDoc } from 'firebase/firestore';\r\nimport { signInWithEmailAndPassword, setPersistence, browserSessionPersistence, createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { useState } from 'react';\r\n\r\nexport default function LoginPage() {\r\n    let [error, setError] = useState(undefined);\r\n    let [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        let username = e.target.username.value;\r\n        let password = e.target.password.value;\r\n\r\n        let q = query(users, where(\"username\", \"==\", username));\r\n        let presetUser = await getDocs(q);\r\n\r\n        if (presetUser.size > 0) presetUser = presetUser.docs[0];\r\n        else return setError(\"Invalid username\");\r\n\r\n        if (password === \"\") {\r\n            if (!presetUser.data().setup) {\r\n                // need firebase rule\r\n                let newpw = prompt(\"Type in your new password! (8~12 characters)\");\r\n\r\n                if (8 <= newpw.length && newpw.length <= 12) {\r\n                    let retypepw = prompt(\"Please confirm your password!\");\r\n\r\n                    if (newpw === retypepw) {\r\n                        try {\r\n                            await setPersistence(auth, browserSessionPersistence);\r\n\r\n                            let newUser = await createUserWithEmailAndPassword(auth, presetUser.data().email, newpw);\r\n\r\n                            let tmp = { ...presetUser.data() };\r\n                            tmp.setup = true;\r\n\r\n                            await setDoc(doc(users, newUser.user.uid), tmp);\r\n                            await deleteDoc(doc(users, presetUser.id));\r\n                        } catch (err) { setError(err.message) }\r\n                    }\r\n                    else setError(\"Password mismatch\");\r\n                }\r\n                else setError(\"Invalid password format\");\r\n            }\r\n            else setError(\"Already signed up\");\r\n        }\r\n        else signInWithEmailAndPassword(auth, presetUser.data().email, password);\r\n\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"loginPage\">\r\n            <form onSubmit={handleSubmit} disabled={loading}>\r\n                {error}\r\n\r\n                <input name=\"username\" type=\"text\" placeholder=\"Username\" />\r\n                <input name=\"password\" type=\"password\" placeholder=\"Please leave it empty if this is your first time signing in.\" />\r\n\r\n                <button>Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}","import date from 'date-and-time';\r\n\r\nexport default function InputBox({ v, inputBoxes, type, name }) {\r\n    if (type === \"text\") return <input defaultValue={v.data()[name]} name={name} type=\"text\" ref={inputBoxes[name]} />\r\n\r\n    let rawtime = new Date(v.data()[\"start\"].toDate().toISOString());\r\n\r\n    let dateValue = date.format(rawtime, \"YYYY-MM-DD\");\r\n    let timeValue = date.format(rawtime, \"hh:mm\");\r\n\r\n    if (type === \"date\") return <input defaultValue={dateValue} name={name} type=\"date\" ref={inputBoxes[name]} />\r\n\r\n    if (type === \"time\") return <input defaultValue={timeValue} name={name} type=\"time\" ref={inputBoxes[name]} />\r\n\r\n    return <input />\r\n}","import { createRef, useState } from \"react\";\r\nimport InputBox from \"./input-box\";\r\n\r\nexport default function EventBox({ v, i, editing, setEditing, usersCache, saveEventChanges, removeAssigned, removeEvent }) {\r\n    let inputBoxes = {\r\n        category: createRef(),\r\n        description: createRef(),\r\n        job: createRef(),\r\n        date: createRef(),\r\n        start: createRef(),\r\n        end: createRef()\r\n    }\r\n\r\n    let localAssigned = usersCache.find(vv => vv.id === v.data().assigned);\r\n    let localFullname = localAssigned ? localAssigned.data().firstname + \" \" + localAssigned.data().lastname : undefined;\r\n\r\n    if (!v.data()) return <p></p>;\r\n\r\n    if (i === editing) return (\r\n        <>\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"category\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"description\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"job\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"date\" name=\"date\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"time\" name=\"start\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"time\" name=\"end\" />\r\n\r\n            <div>\r\n                {localFullname ? (\r\n                    <>\r\n                        <p>{localFullname}</p>\r\n\r\n                        <button title=\"Reset\" onClick={removeAssigned}>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-person-x-fill\" viewBox=\"0 0 16 16\">\r\n                                <path fill-rule=\"evenodd\" d=\"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z\" />\r\n                            </svg>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <p>EMPTY</p>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"actions\">\r\n                <button title=\"Save\" onClick={() => saveEventChanges(inputBoxes)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                        <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                <button title=\"Cancel\" onClick={() => setEditing(-1)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    if (editing > -1) return (\r\n        <>\r\n            <div><p title={v.data().category}>{v.data().category}</p></div>\r\n            <div><p title={v.data().description}>{v.data().description}</p></div>\r\n            <div><p title={v.data().job}>{v.data().job}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleDateString()} onDoubleClick={() => setEditing(i)}>{v.data().start.toDate().toLocaleDateString()}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleTimeString()} onDoubleClick={() => setEditing(i)}>{v.data().start.toDate().toLocaleTimeString()}</p></div>\r\n            <div><p title={v.data().end.toDate().toLocaleTimeString()} onDoubleClick={() => setEditing(i)}>{v.data().end.toDate().toLocaleTimeString()}</p></div>\r\n            <div><p title={localFullname ?? \"EMPTY\"}>{localFullname ?? \"EMPTY\"}</p></div>\r\n            <div></div>\r\n        </>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <div><p title={v.data().category} onDoubleClick={() => setEditing(i)}>{v.data().category}</p></div>\r\n            <div><p title={v.data().description} onDoubleClick={() => setEditing(i)}>{v.data().description}</p></div>\r\n            <div><p title={v.data().job} onDoubleClick={() => setEditing(i)}>{v.data().job}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleDateString()} onDoubleClick={() => setEditing(i)}>{v.data().start.toDate().toLocaleDateString()}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleTimeString()} onDoubleClick={() => setEditing(i)}>{v.data().start.toDate().toLocaleTimeString()}</p></div>\r\n            <div><p title={v.data().end.toDate().toLocaleTimeString()} onDoubleClick={() => setEditing(i)}>{v.data().end.toDate().toLocaleTimeString()}</p></div>\r\n            <div><p title={localFullname ?? \"EMPTY\"} onDoubleClick={() => setEditing(i)}>{localFullname ?? \"EMPTY\"}</p></div>\r\n\r\n            <div className=\"actions\">\r\n                <button title=\"Edit\" onClick={() => setEditing(i)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-gear-fill\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                <button title=\"Delete\" onClick={() => removeEvent(i)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </>\r\n    )\r\n}","export default function judgeRole(snapshot) {\r\n    if (!snapshot) return 0;\r\n    if (!snapshot.exists()) return 0;\r\n\r\n    if (snapshot.data().isSuperAdmin) return 2;\r\n    if (snapshot.data().isAdmin) return 1;\r\n\r\n    return 0;\r\n}","import { createRef, useContext } from \"react\";\r\nimport judgeRole from \"../utils/judge-role\";\r\nimport SiteContext from \"../utils/site-context\";\r\nimport InputBox from \"./input-box\";\r\n\r\nexport default function UserBox({ v, i, editing, setEditing, saveUserChanges, removeUser, rolesCache, userPromotion }) {\r\n    let { userRole } = useContext(SiteContext);\r\n\r\n    let inputBoxes = {\r\n        username: createRef(),\r\n        firstname: createRef(),\r\n        lastname: createRef(),\r\n        email: createRef()\r\n    }\r\n\r\n    if (!v.data() || !rolesCache) return <p></p>;\r\n\r\n    let localRoleSearch = rolesCache.find(vv => vv.id === v.id);\r\n    let localRole = judgeRole(localRoleSearch);\r\n\r\n    if (i === editing) return (\r\n        <>\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"username\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"firstname\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"lastname\" />\r\n            <InputBox v={v} inputBoxes={inputBoxes} type=\"text\" name=\"email\" />\r\n\r\n            <div>{v.data().setup ? <svg title=\"Complete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"green\" className=\"bi bi-check2-circle\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\" />\r\n                <path d=\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\" />\r\n            </svg> : <svg title=\"Incomplete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-exclamation-octagon\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z\" />\r\n                <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\" />\r\n            </svg>}</div>\r\n\r\n            <div className=\"actions\">\r\n                <button title=\"Save\" onClick={() => saveUserChanges(inputBoxes)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                        <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\" />\r\n                    </svg>\r\n                </button>\r\n\r\n                <button title=\"Cancel\" onClick={() => setEditing(-1)}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n                        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    if (editing > -1) return (\r\n        <>\r\n            <div><p title={v.data().username}>{v.data().username}</p></div>\r\n            <div><p title={v.data().firstname}>{v.data().firstname}</p></div>\r\n            <div><p title={v.data().lastname}>{v.data().lastname}</p></div>\r\n            <div><p title={v.data().email}>{v.data().email}</p></div>\r\n\r\n            <div>{v.data().setup ? <svg title=\"Complete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"green\" className=\"bi bi-check2-circle\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\" />\r\n                <path d=\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\" />\r\n            </svg> : <svg title=\"Incomplete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-exclamation-octagon\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z\" />\r\n                <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\" />\r\n            </svg>}</div>\r\n\r\n            <div className=\"actions\"></div>\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div><p title={v.data().username}>{v.data().username}</p></div>\r\n            <div><p title={v.data().firstname}>{v.data().firstname}</p></div>\r\n            <div><p title={v.data().lastname}>{v.data().lastname}</p></div>\r\n            <div><p title={v.data().email}>{v.data().email}</p></div>\r\n\r\n            <div>{v.data().setup ? <svg title=\"Complete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"green\" className=\"bi bi-check2-circle\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\" />\r\n                <path d=\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\" />\r\n            </svg> : <svg title=\"Incomplete\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-exclamation-octagon\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z\" />\r\n                <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\" />\r\n            </svg>}</div>\r\n\r\n            <div className=\"actions\">\r\n                {userRole > localRole ? (\r\n                    <>\r\n                        {userRole > 1 && localRole === 0 && v.data().setup ? (\r\n                            <button title=\"Promote\" onClick={() => userPromotion(i)}>\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"blue\" className=\"bi bi-arrow-up-circle\" viewBox=\"0 0 16 16\">\r\n                                    <path fill-rule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z\" />\r\n                                </svg>\r\n                            </button>\r\n                        ) : undefined}\r\n\r\n                        {!v.data().setup ? (\r\n                            <>\r\n                                <button title=\"Edit\" onClick={() => setEditing(i)}>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-gear-fill\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\" />\r\n                                    </svg>\r\n                                </button>\r\n\r\n                                <button title=\"Delete\" onClick={() => removeUser(i)}>\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"red\" className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\" />\r\n                                    </svg>\r\n                                </button>\r\n                            </>\r\n                        ) : undefined}\r\n                    </>\r\n                ) : undefined}\r\n            </div>\r\n        </>\r\n    );\r\n}","import { useContext } from \"react\";\r\nimport SiteContext from \"../utils/site-context\";\r\n\r\nexport default function UserEventBox({ v, i, usersCache, takeEvent, cancelEvent, searchMethod }) {\r\n    let { user } = useContext(SiteContext);\r\n    let localAssigned = usersCache.find(vv => vv.id === v.data().assigned);\r\n    let localFullname = localAssigned ? localAssigned.data().firstname + \" \" + localAssigned.data().lastname : undefined;\r\n\r\n    if (!v.data()) return <></>;\r\n    if (searchMethod === \"mine\" && v.data().assigned !== user.uid) return <></>;\r\n    if (searchMethod === \"empty\" && localAssigned) return <></>;\r\n\r\n    return (\r\n        <>\r\n            <div><p title={v.data().category} >{v.data().category}</p></div>\r\n            <div><p title={v.data().description} >{v.data().description}</p></div>\r\n            <div><p title={v.data().job} >{v.data().job}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleDateString()} >{v.data().start.toDate().toLocaleDateString()}</p></div>\r\n            <div><p title={v.data().start.toDate().toLocaleTimeString()} >{v.data().start.toDate().toLocaleTimeString()}</p></div>\r\n            <div><p title={v.data().end.toDate().toLocaleTimeString()} >{v.data().end.toDate().toLocaleTimeString()}</p></div>\r\n\r\n            <div className=\"assigned\">\r\n                <p title={localFullname}>{localFullname}</p>\r\n\r\n                {localFullname ? localAssigned.id === user.uid ? (\r\n                    <button className=\"cancel\" onClick={() => cancelEvent(i)}>CANCEL</button>\r\n                ) : undefined : (\r\n                    <button className=\"take\" onClick={() => takeEvent(i)}>TAKE</button>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}","import { useState } from 'react';\r\nimport Select from 'react-select';\r\n\r\nexport default function ComboBox({ onMenuSelect }) {\r\n    let [val, setVal] = useState({ value: \"all\", label: \"All\" });\r\n\r\n    const handleChange = (v) => {\r\n        setVal(v);\r\n        onMenuSelect(v);\r\n    }\r\n\r\n    return <Select\r\n        isSearchable={false}\r\n        value={val}\r\n        options={[\r\n            { value: \"all\", label: \"All\" },\r\n            { value: \"mine\", label: \"Mine\" },\r\n            { value: \"empty\", label: \"Empty\" },\r\n        ]}\r\n        onChange={handleChange}\r\n    />\r\n}","import { signOut, updateEmail, updatePassword } from '@firebase/auth';\r\nimport { auth, events, roles, users, settings } from '../utils/firebase';\r\nimport { createRef, useContext, useEffect, useState, createElement } from 'react';\r\nimport SiteContext from '../utils/site-context';\r\nimport './console-page.scss';\r\nimport { addDoc, deleteDoc, doc, getDoc, getDocs, onSnapshot, orderBy, query, setDoc, updateDoc } from '@firebase/firestore';\r\nimport EventBox from '../components/event-box';\r\nimport Papa from 'papaparse';\r\nimport date from 'date-and-time';\r\nimport UserBox from '../components/user-box';\r\nimport UserEventBox from '../components/user-event-box';\r\nimport ComboBox from '../components/combo-box';\r\nimport { CSVLink } from 'react-csv';\r\n\r\nexport default function ConsolePage() {\r\n    let { userRole } = useContext(SiteContext);\r\n\r\n    if (userRole > 0) return <AdminConsole />;\r\n    return <UserConsole />;\r\n}\r\n\r\nfunction AdminConsole() {\r\n    let [tab, setTab] = useState(0);\r\n    let [eventsCache, setEventsCache] = useState([]);\r\n    let [usersCache, setUsersCache] = useState([]);\r\n    let [rolesCache, setRolesCache] = useState([]);\r\n    let [editing, setEditing] = useState(-1);\r\n    let [loading, setLoading] = useState(undefined);\r\n    let fileRef = createRef();\r\n    let { user, userData } = useContext(SiteContext);\r\n    let [eventsCsvReport, setEventsCsvReport] = useState({ data: [], headers: [], filename: \"\", v: true });\r\n    let [usersCsvReport, setUsersCsvReport] = useState({ data: [], headers: [], filename: \"\", v: true });\r\n    let EventsCsvDownloader = createRef();\r\n    let UsersCsvDownloader = createRef();\r\n\r\n    useEffect(() => loadData(), []);\r\n    useEffect(() => setEditing(-1), [tab]);\r\n    useEffect(() => generateCsv(), [eventsCache, usersCache]);\r\n\r\n    const loadData = async () => {\r\n        onSnapshot(query(events, orderBy(\"start\")), (qs) => setEventsCache(qs.docs));\r\n        onSnapshot(query(users), orderBy(\"lastname\"), (qs) => setUsersCache(qs.docs));\r\n        onSnapshot(query(roles), (qs) => setRolesCache(qs.docs));\r\n    }\r\n\r\n    const saveEventChanges = (inputBoxes) => {\r\n        let category = inputBoxes.category.current.value;\r\n        let description = inputBoxes.description.current.value;\r\n        let job = inputBoxes.job.current.value;\r\n\r\n        let start = date.parse(inputBoxes.date.current.value, \"YYYY-MM-DD\");\r\n        let end = date.parse(inputBoxes.date.current.value, \"YYYY-MM-DD\");\r\n\r\n        let pstart = date.parse(inputBoxes.start.current.value, \"hh:mm\");\r\n        let pend = date.parse(inputBoxes.end.current.value, \"hh:mm\");\r\n\r\n        start.setHours(pstart.getHours());\r\n        start.setMinutes(pstart.getMinutes());\r\n\r\n        end.setHours(pend.getHours());\r\n        end.setMinutes(pend.getMinutes());\r\n\r\n        updateDoc(doc(events, eventsCache[editing].id), { category, description, job, start, end });\r\n        setEditing(-1);\r\n    }\r\n\r\n    const removeAssigned = () => {\r\n        updateDoc(doc(events, eventsCache[editing].id), { assigned: null });\r\n        setEditing(-1);\r\n    }\r\n\r\n    const removeEvent = (index) => {\r\n        deleteDoc(doc(events, eventsCache[index].id));\r\n        setEditing(-1);\r\n    }\r\n\r\n    const addNewEvent = () => {\r\n        addDoc(events, {\r\n            category: \"\",\r\n            description: \"\",\r\n            job: \"\",\r\n            start: new Date(),\r\n            end: new Date(),\r\n            assigned: null\r\n        });\r\n    }\r\n\r\n    const fbClearEvents = async () => {\r\n        setLoading(\"Preparing removal...\");\r\n        let eventsDocs = await getDocs(query(events));\r\n\r\n        for (let i in eventsDocs.docs) {\r\n            setLoading(`Removed (${i}/${eventsDocs.size})`);\r\n            await deleteDoc(doc(events, eventsDocs.docs[i].id));\r\n        }\r\n\r\n        setLoading(undefined);\r\n    }\r\n\r\n    const clearAllEvent = async (e) => {\r\n        if (!e.shiftKey) {\r\n            let ans = confirm(\"Are you sure about removing all events?\");\r\n            if (!ans) return;\r\n        }\r\n\r\n        fbClearEvents();\r\n    }\r\n\r\n    const addEvent = async (data) => {\r\n        await fbClearEvents();\r\n\r\n        for (let i in data) {\r\n            setLoading(`Added (${i}/${data.length})`);\r\n            let v = data[i];\r\n\r\n            let category = v[\"category\"] ?? v[\"Category\"];\r\n            let description = v[\"description\"] ?? v[\"Description\"];\r\n            let job = v[\"job\"] ?? v[\"Job\"];\r\n            let sdate = v[\"date\"] ?? v[\"Date\"];\r\n            let sstart = v[\"start\"] ?? v[\"Start\"];\r\n            let send = v[\"end\"] ?? v[\"End\"];\r\n\r\n            if (!category || !description || !job || !date || !sstart || !send) continue;\r\n\r\n            let start = new Date(sdate);\r\n            let end = new Date(sdate);\r\n\r\n            let pstart = date.parse(sstart, \"hh:mm:ss\");\r\n            let pend = date.parse(send, \"hh:mm:ss\");\r\n\r\n            start.setHours(pstart.getHours());\r\n            start.setMinutes(pstart.getMinutes());\r\n\r\n            end.setHours(pend.getHours());\r\n            end.setMinutes(pend.getMinutes());\r\n\r\n            await addDoc(events, { category, description, job, start, end, assigned: null });\r\n        }\r\n\r\n        setLoading(undefined);\r\n    }\r\n\r\n    const saveUserChanges = (inputBoxes) => {\r\n        let username = inputBoxes.username.current.value;\r\n        let firstname = inputBoxes.firstname.current.value;\r\n        let lastname = inputBoxes.lastname.current.value;\r\n        let email = inputBoxes.email.current.value;\r\n\r\n        if (email !== usersCache[editing].data().email && usersCache.find(v => v.data().email === email)) {\r\n            alert(\"Account with the same email exists!\");\r\n            return;\r\n        }\r\n\r\n        updateDoc(doc(users, usersCache[editing].id), { username, firstname, lastname, email });\r\n        setEditing(-1);\r\n    }\r\n\r\n    const removeUser = (index) => {\r\n        deleteDoc(doc(users, usersCache[index].id));\r\n        setEditing(-1);\r\n    }\r\n\r\n    const userPromotion = (index) => {\r\n        setDoc(doc(roles, usersCache[index].id), { isAdmin: true, isSuperAdmin: false });\r\n    }\r\n\r\n    const addNewUser = () => {\r\n        addDoc(users, {\r\n            username: String(Math.floor(Math.random() * 900000) + 100000),\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            email: \"\",\r\n            setup: false\r\n        });\r\n    }\r\n\r\n    const fbClearUser = async () => {\r\n        setLoading(\"Preparing removal...\");\r\n\r\n        let usersDocs = await getDocs(query(users));\r\n\r\n        let useful = usersDocs.docs.filter(v => v.data().setup);\r\n        let filtered = usersDocs.docs.filter(v => !v.data().setup);\r\n\r\n        for (let i in filtered) {\r\n            setLoading(`Removed (${i}/${filtered.length})`);\r\n            await deleteDoc(doc(users, filtered[i].id));\r\n        }\r\n\r\n        setLoading(undefined);\r\n        return useful;\r\n    }\r\n\r\n    const clearAllUser = async (e) => {\r\n        if (!e.shiftKey) {\r\n            let ans = confirm(\"Are you sure about removing all users?\");\r\n            if (!ans) return;\r\n        }\r\n\r\n        fbClearUser();\r\n    }\r\n\r\n    const addUser = async (data) => {\r\n        let leftover = await fbClearUser();\r\n\r\n        for (let i in data) {\r\n            setLoading(`Added (${i}/${data.length})`);\r\n            let v = data[i];\r\n\r\n            let username = v[\"username\"] ?? v[\"Username\"];\r\n            let firstname = v[\"firstname\"] ?? v[\"Firstname\"] ?? v[\"first name\"] ?? v[\"First name\"] ?? v[\"First Name\"];\r\n            let lastname = v[\"lastname\"] ?? v[\"Lastname\"] ?? v[\"last name\"] ?? v[\"Last name\"] ?? v[\"Last Name\"];\r\n            let email = v[\"email\"] ?? v[\"Email\"];\r\n\r\n            if (!username || !firstname || !lastname || !email) continue;\r\n            if (leftover.find(v => v.data().email === email)) continue;\r\n\r\n            await addDoc(users, { username, firstname, lastname, email, setup: false });\r\n        }\r\n\r\n        setLoading(undefined);\r\n    }\r\n\r\n    const fileUploadAction = () => fileRef.current.click();\r\n    const fileUploadInputChange = (e) => {\r\n        let filePath = e.target.files[0];\r\n\r\n        Papa.parse(filePath, {\r\n            complete: (csvfile) => {\r\n                switch (tab) {\r\n                    case 0: addEvent(csvfile.data); break;\r\n                    case 1: addUser(csvfile.data); break;\r\n                }\r\n            },\r\n            header: true\r\n        });\r\n    }\r\n\r\n    const changeEmail = () => {\r\n        let email = prompt(\"Please type in your new email.\");\r\n        if (email) updateEmail(auth.currentUser, email)\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const changePassword = () => {\r\n        let pw = prompt(\"Please type in your new password.\");\r\n        if (pw) updatePassword(auth.currentUser, pw)\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const newNames = (e) => {\r\n        e.preventDefault();\r\n\r\n        let firstname = e.target.first.value;\r\n        let lastname = e.target.last.value;\r\n\r\n        updateDoc(doc(users, user.uid), { firstname, lastname })\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const generateCsv = () => {\r\n        let eventsCsv = {\r\n            data: eventsCache.map(v => new Object({\r\n                category: v.data().category,\r\n                description: v.data().description,\r\n                job: v.data().job,\r\n                date: v.data().date,\r\n                start: v.data().start,\r\n                end: v.data().end,\r\n                assigned: v.data().assigned,\r\n            })),\r\n            headers: [\r\n                { label: \"Category\", key: \"category\" },\r\n                { label: \"Description\", key: \"description\" },\r\n                { label: \"Job\", key: \"job\" },\r\n                { label: \"Date\", key: \"date\" },\r\n                { label: \"Start\", key: \"start\" },\r\n                { label: \"End\", key: \"end\" },\r\n                { label: \"Assigned\", key: \"assigned\" },\r\n            ],\r\n            filename: `Extra Duties Events Report: ${date.format(new Date(), \"MM/DD/YYYY\")}.csv`\r\n        }\r\n\r\n        let usersCsv = {\r\n            data: usersCache.map(v => new Object({\r\n                username: v.data().username,\r\n                firstname: v.data().firstname,\r\n                lastname: v.data().lastname,\r\n                email: v.data().email,\r\n                setup: v.data().setup ? \"Y\" : \"N\"\r\n            })),\r\n            headers: [\r\n                { label: \"Username\", key: \"username\" },\r\n                { label: \"Firstname\", key: \"firstname\" },\r\n                { label: \"Lastname\", key: \"lastname\" },\r\n                { label: \"Email\", key: \"email\" },\r\n                { label: \"Setup\", key: \"setup\" },\r\n            ],\r\n            filename: `Extra Duties Users Report: ${date.format(new Date(), \"MM/DD/YYYY\")}.csv`\r\n        }\r\n\r\n        setEventsCsvReport(eventsCsv);\r\n        setUsersCsvReport(usersCsv);\r\n    }\r\n\r\n    const optionsSize = 40;\r\n\r\n    return (\r\n        <div className=\"consolePage admin\">\r\n            <input type=\"file\" hidden ref={fileRef} onChange={fileUploadInputChange} accept=\".csv,.csvx\" />\r\n\r\n            <CSVLink {...eventsCsvReport} ref={EventsCsvDownloader} />\r\n            <CSVLink {...usersCsvReport} ref={UsersCsvDownloader} />\r\n\r\n            <nav>\r\n                <div className={tab === 0 ? \"selected\" : \"\"} onClick={() => setTab(0)}>Events</div>\r\n                <div className={tab === 1 ? \"selected\" : \"\"} selected onClick={() => setTab(1)}>Users</div>\r\n                <div className={tab === 2 ? \"selected\" : \"\"} selected onClick={() => setTab(2)}>Profile</div>\r\n                <div onClick={() => signOut(auth)}>Sign Out</div>\r\n            </nav>\r\n\r\n            {\r\n                loading ? (\r\n                    <div className=\"overlay\">\r\n                        <p>{loading}</p>\r\n                    </div>\r\n                ) : undefined\r\n            }\r\n\r\n            <div>\r\n                <div>\r\n                    {tab === 0 ? (\r\n                        <>\r\n                            <h1 className=\"title\">Events</h1>\r\n\r\n                            <div className=\"events\">\r\n                                {eventsCache && eventsCache.length > 0 ? (\r\n                                    <div className=\"yes\">\r\n                                        <div className=\"header\" title=\"Category\"><p>Category</p></div>\r\n                                        <div className=\"header\" title=\"Description\"><p>Description</p></div>\r\n                                        <div className=\"header\" title=\"Job\"><p>Job</p></div>\r\n                                        <div className=\"header\" title=\"Date\"><p>Date</p></div>\r\n                                        <div className=\"header\" title=\"Start\"><p>Start</p></div>\r\n                                        <div className=\"header\" title=\"End\"><p>End</p></div>\r\n                                        <div className=\"header\" title=\"Assigned\"><p>Assigned</p></div>\r\n                                        <div className=\"header\" title=\"Actions\"><p>Actions</p></div>\r\n\r\n                                        {eventsCache.map((v, i) => <EventBox v={v} i={i} editing={editing} setEditing={setEditing} usersCache={usersCache} saveEventChanges={saveEventChanges} removeAssigned={removeAssigned} removeEvent={removeEvent} />)}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"no\">\r\n                                        Seems empty...\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"options\">\r\n                                    <button onClick={addNewEvent} title=\"Add new event\" >\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" class=\"bi bi-plus\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\r\n                                        </svg>\r\n                                    </button>\r\n\r\n                                    <button onClick={clearAllEvent} title=\"Clear all events\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" className=\"bi bi-trash2\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\" />\r\n                                        </svg>\r\n                                    </button>\r\n\r\n                                    <button onClick={fileUploadAction} title=\"Upload events spreadsheet\" >\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" class=\"bi bi-file-earmark-arrow-up\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z\" />\r\n                                            <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n                                        </svg>\r\n                                    </button>\r\n\r\n                                    <button onClick={() => EventsCsvDownloader.current.link.click()} title=\"Download events report\">\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" className=\"bi bi-download\" viewBox=\"0 0 16 16\">\r\n                                            <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\" />\r\n                                            <path d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\" />\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    ) : tab === 1 ? (\r\n                        <div className=\"users\">\r\n                            <h1 className=\"title\">Users</h1>\r\n\r\n                            {usersCache && usersCache.length > 0 ? (\r\n                                <div className=\"yes\">\r\n                                    <div className=\"header\" title=\"Username\">Username</div>\r\n                                    <div className=\"header\" title=\"First Name\">First Name</div>\r\n                                    <div className=\"header\" title=\"Last Name\">Last Name</div>\r\n                                    <div className=\"header\" title=\"Email\">Email</div>\r\n                                    <div className=\"header\" title=\"Role\">Setup</div>\r\n                                    <div className=\"header\" title=\"Role\">Actions</div>\r\n\r\n                                    {usersCache.map((v, i) => <UserBox v={v} i={i} editing={editing} setEditing={setEditing} saveUserChanges={saveUserChanges} removeUser={removeUser} rolesCache={rolesCache} userPromotion={userPromotion} />)}\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"no\">\r\n                                    Seems empty...\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"options\">\r\n                                <button onClick={addNewUser} title=\"Add new user\" >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" class=\"bi bi-plus\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\r\n                                    </svg>\r\n                                </button>\r\n\r\n                                <button onClick={clearAllUser} title=\"Clear all users\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" className=\"bi bi-trash2\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z\" />\r\n                                    </svg>\r\n                                </button>\r\n\r\n                                <button onClick={fileUploadAction} title=\"Upload users spreadsheet\" >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" class=\"bi bi-file-earmark-arrow-up\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z\" />\r\n                                        <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n                                    </svg>\r\n                                </button>\r\n\r\n                                <button onClick={() => UsersCsvDownloader.current.link.click()} title=\"Download users list\">\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={optionsSize} height={optionsSize} fill=\"rgb(232, 83, 51)\" className=\"bi bi-download\" viewBox=\"0 0 16 16\">\r\n                                        <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\" />\r\n                                        <path d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\" />\r\n                                    </svg>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            <h1 className=\"title\">Profile</h1>\r\n\r\n                            <div className=\"profile\">\r\n                                <form onSubmit={newNames}>\r\n                                    <div>\r\n                                        <label>First Name</label>\r\n                                        <input name=\"first\" defaultValue={userData.firstname} />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label>Last Name</label>\r\n                                        <input name=\"last\" defaultValue={userData.lastname} />\r\n                                    </div>\r\n\r\n                                    <button>Save</button>\r\n                                </form>\r\n\r\n                                <button onClick={changeEmail}>Change Email</button>\r\n                                <button onClick={changePassword}>Change Password</button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n\r\nfunction UserConsole() {\r\n    let [tab, setTab] = useState(0);\r\n    let { user, userData } = useContext(SiteContext);\r\n    let [eventsCache, setEventsCache] = useState([]);\r\n    let [usersCache, setUsersCache] = useState([]);\r\n    let [openingTime, setOpeningTime] = useState(-1);\r\n    let [closingTime, setClosingTime] = useState(-1);\r\n    let [searchMethod, setSearchMethod] = useState(\"all\"); // all, mine, empty\r\n\r\n    useEffect(() => loadData(), []);\r\n\r\n    const loadData = async () => {\r\n        let eventsDoc = await getDocs(query(events, orderBy(\"start\")));\r\n        setEventsCache(eventsDoc.docs);\r\n\r\n        let usersDoc = await getDocs(query(users), orderBy(\"lastname\"));\r\n        setUsersCache(usersDoc.docs);\r\n\r\n        let timing = await getDoc(doc(settings, \"time\"));\r\n        setOpeningTime(timing.data().open);\r\n        setClosingTime(timing.data().close);\r\n\r\n        onSnapshot(query(events, orderBy(\"start\")), (qs) => setEventsCache(qs.docs));\r\n        onSnapshot(query(users), orderBy(\"lastname\"), (qs) => setUsersCache(qs.docs));\r\n    }\r\n\r\n    const changeEmail = () => {\r\n        let email = prompt(\"Please type in your new email.\");\r\n        if (email) updateEmail(auth.currentUser, email)\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const changePassword = () => {\r\n        let pw = prompt(\"Please type in your new password.\");\r\n        if (pw) updatePassword(auth.currentUser, pw)\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const newNames = (e) => {\r\n        e.preventDefault();\r\n\r\n        let firstname = e.target.first.value;\r\n        let lastname = e.target.last.value;\r\n\r\n        updateDoc(doc(users, user.uid), { firstname, lastname })\r\n            .then(() => alert(\"Successful!\"))\r\n            .catch(err => alert(err.message));\r\n    }\r\n\r\n    const takeEvent = (index) => {\r\n        updateDoc(doc(events, eventsCache[index].id), { assigned: user.uid });\r\n    }\r\n\r\n    const cancelEvent = (index) => {\r\n        updateDoc(doc(events, eventsCache[index].id), { assigned: null });\r\n    }\r\n\r\n    const currentTime = () => {\r\n        let d = new Date();\r\n        return d.getUTCHours() * 60 + d.getUTCMinutes();\r\n    }\r\n\r\n    const convUtc = (time) => {\r\n        let hours = Math.floor(time / 60);\r\n        let mins = time % 60;\r\n\r\n        let d = new Date();\r\n        d.setUTCHours(hours);\r\n        d.setUTCMinutes(mins);\r\n        d.setSeconds(0);\r\n\r\n        return d;\r\n    }\r\n\r\n    const onMenuSelect = (v) => {\r\n        setSearchMethod(v.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"consolePage user\">\r\n            <nav>\r\n                <div className={tab === 0 ? \"selected\" : \"\"} onClick={() => setTab(0)}>Events</div>\r\n                <div className={tab === 1 ? \"selected\" : \"\"} onClick={() => setTab(1)}>Profile</div>\r\n                <div onClick={() => signOut(auth)}>Sign Out</div>\r\n            </nav>\r\n\r\n            <div>\r\n                <div>\r\n                    {tab === 0 ? (\r\n                        <>\r\n                            <h1 className=\"title\">Events</h1>\r\n\r\n                            <div className=\"events\">\r\n                                {openingTime === -1 ? undefined : openingTime <= currentTime() && currentTime() <= closingTime ?\r\n                                    eventsCache && eventsCache.length > 0 ? (\r\n                                        <>\r\n                                            <ComboBox onMenuSelect={onMenuSelect} />\r\n\r\n                                            <div className=\"yes\">\r\n                                                <div className=\"header\" title=\"Category\"><p>Category</p></div>\r\n                                                <div className=\"header\" title=\"Description\"><p>Description</p></div>\r\n                                                <div className=\"header\" title=\"Job\"><p>Job</p></div>\r\n                                                <div className=\"header\" title=\"Date\"><p>Date</p></div>\r\n                                                <div className=\"header\" title=\"Start\"><p>Start</p></div>\r\n                                                <div className=\"header\" title=\"End\"><p>End</p></div>\r\n                                                <div className=\"header\" title=\"Assigned\"><p>Assigned</p></div>\r\n\r\n                                                {eventsCache.map((v, i) => <UserEventBox v={v} i={i} usersCache={usersCache} takeEvent={takeEvent} cancelEvent={cancelEvent} searchMethod={searchMethod} />)}\r\n                                            </div>\r\n                                        </>\r\n\r\n                                    ) : (\r\n                                        <div className=\"no\">\r\n                                            Seems empty...\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"closed\">\r\n                                            The sign up window is currently closed! Opening at {convUtc(openingTime).toLocaleTimeString()}\r\n                                        </div>\r\n                                    )}\r\n                            </div>\r\n                        </>\r\n\r\n                    ) : (\r\n                        <>\r\n                            <h1 className=\"title\">Profile</h1>\r\n\r\n                            <div className=\"profile\">\r\n                                <form onSubmit={newNames}>\r\n                                    <div>\r\n                                        <label>First Name</label>\r\n                                        <input name=\"first\" defaultValue={userData.firstname} />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label>Last Name</label>\r\n                                        <input name=\"last\" defaultValue={userData.lastname} />\r\n                                    </div>\r\n\r\n                                    <button>Save</button>\r\n                                </form>\r\n\r\n                                <button onClick={changeEmail}>Change Email</button>\r\n                                <button onClick={changePassword}>Change Password</button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import './unknown-page.scss';\r\n\r\nexport default function UnknownPage() {\r\n    return (\r\n        <div>404</div>\r\n    );\r\n}","import './App.scss';\r\n\r\n// Packages\r\nimport { auth, users, roles } from './utils/firebase';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\nimport { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport SiteContext from './utils/site-context';\r\nimport UtilRoute from './utils/util-route';\r\n\r\n// Pages\r\nimport LoginPage from './pages/login-page';\r\nimport ConsolePage from './pages/console-page';\r\nimport UnknownPage from './pages/unknown-page';\r\nimport judgeRole from './utils/judge-role';\r\n\r\nexport default function App() {\r\n    let [user, setUser] = useState(undefined);\r\n    let [userData, setUserData] = useState(undefined);\r\n    let [userRole, setUserRole] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        let unsub = onAuthStateChanged(auth, u => u ? loginUser(u) : logoutUser());\r\n        return () => unsub();\r\n    }, []);\r\n\r\n    const loginUser = async (u) => {\r\n        let userDataDoc = await getDoc(doc(users, u.uid));\r\n        let userRoleDoc = await getDoc(doc(roles, u.uid));\r\n\r\n        setUserRole(judgeRole(userRoleDoc));\r\n\r\n        document.title = `Welcome, ${userDataDoc.data().firstname}!`;\r\n\r\n        setUser(u);\r\n        setUserData(userDataDoc.data());\r\n    };\r\n\r\n    const logoutUser = () => {\r\n        setUser(undefined);\r\n        setUserData(undefined);\r\n        setUserRole(undefined);\r\n    }\r\n\r\n    return (\r\n        <SiteContext.Provider value={{ user, userData, userRole }}>\r\n            <BrowserRouter>\r\n                <Switch>\r\n                    <UtilRoute exact unauthed path=\"/\" redirect=\"/console\" component={LoginPage} />\r\n                    <UtilRoute exact authed path=\"/console\" redirect=\"/\" component={ConsolePage} />\r\n                    <UnknownPage />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        </SiteContext.Provider>\r\n    );\r\n}","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n    <StrictMode>\r\n        <App />\r\n    </StrictMode>,\r\n    rootElement\r\n);\r\n"],"sourceRoot":""}