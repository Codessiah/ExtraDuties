(this.webpackJsonpextraduties=this.webpackJsonpextraduties||[]).push([[0],{64:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(36),s=a.n(n),r=a(0),i=a.n(r),l=a(2),j=a(13),d=(a(64),a(52)),o=a(18),u=a(29),b=Object(d.a)({apiKey:"AIzaSyDs1cgOV_3fHgQzHpxjU0dLJ5UOUu5f0bk",authDomain:"extra-duties.firebaseapp.com",projectId:"extra-duties",storageBucket:"extra-duties.appspot.com",messagingSenderId:"600260284146",appId:"1:600260284146:web:7367a4a68c2dbdc57bca6b"}),h=Object(o.f)(b),O=Object(u.c)(b),x=Object(o.a)(h,"users"),v=Object(o.a)(h,"roles"),m=Object(o.a)(h,"events"),p=Object(o.a)(h,"settings"),f=a(55),g=a(14),w=Object(c.createContext)(),k=a(21),y=a(57),C=a(1),N=["component","redirect","authed","unauthed"];function M(e){var t=e.component,a=e.redirect,n=e.authed,s=e.unauthed,r=Object(y.a)(e,N),i=Object(c.useContext)(w).user;return n||s?n&&i||s&&!i?Object(C.jsx)(g.b,Object(k.a)({render:function(e){return Object(C.jsx)(t,Object(k.a)({},e))}},r)):Object(C.jsx)(g.b,Object(k.a)({render:function(e){return Object(C.jsx)(g.a,{to:{pathname:a,state:{from:e.location}}})}},r)):Object(C.jsx)(g.b,Object(k.a)({render:function(e){return Object(C.jsx)(t,Object(k.a)({},e))}},r))}a(71);function D(){var e=Object(c.useState)(void 0),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),d=r[0],b=r[1],h=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,s,r,l,j,d,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),a=t.target.username.value,c=t.target.password.value,s=Object(o.g)(x,Object(o.i)("username","==",a)),e.next=7,Object(o.e)(s);case 7:if(!((r=e.sent).size>0)){e.next=12;break}r=r.docs[0],e.next=13;break;case 12:return e.abrupt("return",n("Invalid username"));case 13:if(""!==c){e.next=47;break}if(r.data().setup){e.next=44;break}if(!(8<=(l=prompt("Type in your new password! (8~12 characters)")).length&&l.length<=12)){e.next=41;break}if(j=prompt("Please confirm your password!"),l!==j){e.next=38;break}return e.prev=19,e.next=22,Object(u.e)(O,u.a);case 22:return e.next=24,Object(u.b)(O,r.data().email,l);case 24:return d=e.sent,(h=Object(k.a)({},r.data())).setup=!0,e.next=29,Object(o.h)(Object(o.c)(x,d.user.uid),h);case 29:return e.next=31,Object(o.b)(Object(o.c)(x,r.id));case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(19),n(e.t0.message);case 36:e.next=39;break;case 38:n("Password mismatch");case 39:e.next=42;break;case 41:n("Invalid password format");case 42:e.next=45;break;case 44:n("Already signed up");case 45:e.next=48;break;case 47:Object(u.f)(O,r.data().email,c);case 48:b(!1);case 49:case"end":return e.stop()}}),e,null,[[19,33]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"loginPage",children:Object(C.jsxs)("form",{onSubmit:h,disabled:d,children:[a,Object(C.jsx)("input",{name:"username",type:"text",placeholder:"Username"}),Object(C.jsx)("input",{name:"password",type:"password",placeholder:"Please leave it empty if this is your first time signing in."}),Object(C.jsx)("button",{children:"Submit"})]})})}var S=a(31),L=(a(72),a(12)),z=a(26);function A(e){var t=e.v,a=e.inputBoxes,c=e.type,n=e.name;if("text"===c)return Object(C.jsx)("input",{defaultValue:t.data()[n],name:n,type:"text",ref:a[n]});var s=new Date(t.data().start.toDate().toISOString()),r=z.a.format(s,"YYYY-MM-DD"),i=z.a.format(s,"hh:mm");return"date"===c?Object(C.jsx)("input",{defaultValue:r,name:n,type:"date",ref:a[n]}):"time"===c?Object(C.jsx)("input",{defaultValue:i,name:n,type:"time",ref:a[n]}):Object(C.jsx)("input",{})}function E(e){var t=e.v,a=e.i,n=e.editing,s=e.setEditing,r=e.usersCache,i=e.saveEventChanges,l=e.removeAssigned,j=e.removeEvent,d={category:Object(c.createRef)(),description:Object(c.createRef)(),job:Object(c.createRef)(),date:Object(c.createRef)(),start:Object(c.createRef)(),end:Object(c.createRef)()},o=r.find((function(e){return e.id===t.data().assigned})),u=o?o.data().firstname+" "+o.data().lastname:void 0;return t.data()?a===n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(A,{v:t,inputBoxes:d,type:"text",name:"category"}),Object(C.jsx)(A,{v:t,inputBoxes:d,type:"text",name:"description"}),Object(C.jsx)(A,{v:t,inputBoxes:d,type:"text",name:"job"}),Object(C.jsx)(A,{v:t,inputBoxes:d,type:"date",name:"date"}),Object(C.jsx)(A,{v:t,inputBoxes:d,type:"time",name:"start"}),Object(C.jsx)(A,{v:t,inputBoxes:d,type:"time",name:"end"}),Object(C.jsx)("div",{children:u?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{children:u}),Object(C.jsx)("button",{title:"Reset",onClick:l,children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person-x-fill",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{"fill-rule":"evenodd",d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"})})})]}):Object(C.jsx)("p",{children:"EMPTY"})}),Object(C.jsxs)("div",{className:"actions",children:[Object(C.jsx)("button",{title:"Save",onClick:function(){return i(d)},children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(C.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})}),Object(C.jsx)("button",{title:"Cancel",onClick:function(){return s(-1)},children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(C.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})})]})]}):n>-1?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().category,children:t.data().category})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().description,children:t.data().description})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().job,children:t.data().job})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleDateString(),onDoubleClick:function(){return s(a)},children:t.data().start.toDate().toLocaleDateString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleTimeString(),onDoubleClick:function(){return s(a)},children:t.data().start.toDate().toLocaleTimeString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().end.toDate().toLocaleTimeString(),onDoubleClick:function(){return s(a)},children:t.data().end.toDate().toLocaleTimeString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:null!==u&&void 0!==u?u:"EMPTY",children:null!==u&&void 0!==u?u:"EMPTY"})}),Object(C.jsx)("div",{})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().category,onDoubleClick:function(){return s(a)},children:t.data().category})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().description,onDoubleClick:function(){return s(a)},children:t.data().description})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().job,onDoubleClick:function(){return s(a)},children:t.data().job})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleDateString(),onDoubleClick:function(){return s(a)},children:t.data().start.toDate().toLocaleDateString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleTimeString(),onDoubleClick:function(){return s(a)},children:t.data().start.toDate().toLocaleTimeString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().end.toDate().toLocaleTimeString(),onDoubleClick:function(){return s(a)},children:t.data().end.toDate().toLocaleTimeString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:null!==u&&void 0!==u?u:"EMPTY",onDoubleClick:function(){return s(a)},children:null!==u&&void 0!==u?u:"EMPTY"})}),Object(C.jsxs)("div",{className:"actions",children:[Object(C.jsx)("button",{title:"Edit",onClick:function(){return s(a)},children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear-fill",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})}),Object(C.jsx)("button",{title:"Delete",onClick:function(){return j(a)},children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})]})]}):Object(C.jsx)("p",{})}var B=a(54),H=a.n(B);function V(e){return e&&e.exists()?e.data().isSuperAdmin?2:e.data().isAdmin?1:0:0}function P(e){var t=e.v,a=e.i,n=e.editing,s=e.setEditing,r=e.saveUserChanges,i=e.removeUser,l=e.rolesCache,j=e.userPromotion,d=Object(c.useContext)(w).userRole,o={username:Object(c.createRef)(),firstname:Object(c.createRef)(),lastname:Object(c.createRef)(),email:Object(c.createRef)()};if(!t.data()||!l)return Object(C.jsx)("p",{});var u=V(l.find((function(e){return e.id===t.id})));return a===n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(A,{v:t,inputBoxes:o,type:"text",name:"username"}),Object(C.jsx)(A,{v:t,inputBoxes:o,type:"text",name:"firstname"}),Object(C.jsx)(A,{v:t,inputBoxes:o,type:"text",name:"lastname"}),Object(C.jsx)(A,{v:t,inputBoxes:o,type:"text",name:"email"}),Object(C.jsx)("div",{children:t.data().setup?Object(C.jsxs)("svg",{title:"Complete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"green",className:"bi bi-check2-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"}),Object(C.jsx)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"})]}):Object(C.jsxs)("svg",{title:"Incomplete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-exclamation-octagon",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"}),Object(C.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(C.jsxs)("div",{className:"actions",children:[Object(C.jsx)("button",{title:"Save",onClick:function(){return r(o)},children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-check-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(C.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})}),Object(C.jsx)("button",{title:"Cancel",onClick:function(){return s(-1)},children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(C.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})})]})]}):n>-1?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().username,children:t.data().username})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().firstname,children:t.data().firstname})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().lastname,children:t.data().lastname})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().email,children:t.data().email})}),Object(C.jsx)("div",{children:t.data().setup?Object(C.jsxs)("svg",{title:"Complete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"green",className:"bi bi-check2-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"}),Object(C.jsx)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"})]}):Object(C.jsxs)("svg",{title:"Incomplete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-exclamation-octagon",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"}),Object(C.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(C.jsx)("div",{className:"actions"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().username,children:t.data().username})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().firstname,children:t.data().firstname})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().lastname,children:t.data().lastname})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().email,children:t.data().email})}),Object(C.jsx)("div",{children:t.data().setup?Object(C.jsxs)("svg",{title:"Complete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"green",className:"bi bi-check2-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"}),Object(C.jsx)("path",{d:"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"})]}):Object(C.jsxs)("svg",{title:"Incomplete",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-exclamation-octagon",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"}),Object(C.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(C.jsx)("div",{className:"actions",children:d>u?Object(C.jsxs)(C.Fragment,{children:[d>1&&0===u&&t.data().setup?Object(C.jsx)("button",{title:"Promote",onClick:function(){return j(a)},children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"blue",className:"bi bi-arrow-up-circle",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"})})}):void 0,t.data().setup?void 0:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("button",{title:"Edit",onClick:function(){return s(a)},children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear-fill",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})}),Object(C.jsx)("button",{title:"Delete",onClick:function(){return i(a)},children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})]})]}):void 0})]})}function Y(e){var t=e.v,a=e.i,n=e.usersCache,s=e.takeEvent,r=e.cancelEvent,i=e.searchMethod,l=Object(c.useContext)(w).user,j=n.find((function(e){return e.id===t.data().assigned})),d=j?j.data().firstname+" "+j.data().lastname:void 0;return t.data()?"mine"===i&&t.data().assigned!==l.uid||"empty"===i&&j?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().category,children:t.data().category})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().description,children:t.data().description})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().job,children:t.data().job})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleDateString(),children:t.data().start.toDate().toLocaleDateString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().start.toDate().toLocaleTimeString(),children:t.data().start.toDate().toLocaleTimeString()})}),Object(C.jsx)("div",{children:Object(C.jsx)("p",{title:t.data().end.toDate().toLocaleTimeString(),children:t.data().end.toDate().toLocaleTimeString()})}),Object(C.jsxs)("div",{className:"assigned",children:[Object(C.jsx)("p",{title:d,children:d}),d?j.id===l.uid?Object(C.jsx)("button",{className:"cancel",onClick:function(){return r(a)},children:"CANCEL"}):void 0:Object(C.jsx)("button",{className:"take",onClick:function(){return s(a)},children:"TAKE"})]})]}):Object(C.jsx)(C.Fragment,{})}var F=a(56);function T(e){var t=e.onMenuSelect,a=Object(c.useState)({value:"all",label:"All"}),n=Object(j.a)(a,2),s=n[0],r=n[1];return Object(C.jsx)(F.a,{isSearchable:!1,value:s,options:[{value:"all",label:"All"},{value:"mine",label:"Mine"},{value:"empty",label:"Empty"}],onChange:function(e){r(e),t(e)}})}var U=a(46);function R(){return Object(c.useContext)(w).userRole>0?Object(C.jsx)(I,{}):Object(C.jsx)(J,{})}function I(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(j.a)(s,2),d=r[0],o=r[1],u=Object(c.useState)([]),b=Object(j.a)(u,2),h=b[0],p=b[1],f=Object(c.useState)([]),g=Object(j.a)(f,2),y=g[0],N=g[1],M=Object(c.useState)(-1),D=Object(j.a)(M,2),A=D[0],B=D[1],V=Object(c.useState)(void 0),Y=Object(j.a)(V,2),F=Y[0],T=Y[1],R=Object(c.createRef)(),I=Object(c.useContext)(w),J=I.user,K=I.userData,Q=Object(c.useState)({data:[],headers:[],filename:"",v:!0}),W=Object(j.a)(Q,2),_=W[0],q=W[1],G=Object(c.useState)({data:[],headers:[],filename:"",v:!0}),X=Object(j.a)(G,2),Z=X[0],$=X[1],ee=Object(c.createRef)(),te=Object(c.createRef)();Object(c.useEffect)((function(){return ae()}),[]),Object(c.useEffect)((function(){return B(-1)}),[a]),Object(c.useEffect)((function(){return xe()}),[d,h]);var ae=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.h)(Object(L.j)(m,Object(L.i)("start")),(function(e){return o(e.docs)})),Object(L.h)(Object(L.j)(x),Object(L.i)("lastname"),(function(e){return p(e.docs)})),Object(L.h)(Object(L.j)(v),(function(e){return N(e.docs)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){var t=e.category.current.value,a=e.description.current.value,c=e.job.current.value,n=z.a.parse(e.date.current.value,"YYYY-MM-DD"),s=z.a.parse(e.date.current.value,"YYYY-MM-DD"),r=z.a.parse(e.start.current.value,"hh:mm"),i=z.a.parse(e.end.current.value,"hh:mm");n.setHours(r.getHours()),n.setMinutes(r.getMinutes()),s.setHours(i.getHours()),s.setMinutes(i.getMinutes()),Object(L.l)(Object(L.d)(m,d[A].id),{category:t,description:a,job:c,start:n,end:s}),B(-1)},ne=function(){Object(L.l)(Object(L.d)(m,d[A].id),{assigned:null}),B(-1)},se=function(e){Object(L.c)(Object(L.d)(m,d[e].id)),B(-1)},re=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("Preparing removal..."),e.next=3,Object(L.f)(Object(L.j)(m));case 3:t=e.sent,e.t0=i.a.keys(t.docs);case 5:if((e.t1=e.t0()).done){e.next=12;break}return a=e.t1.value,T("Removed (".concat(a,"/").concat(t.size,")")),e.next=10,Object(L.c)(Object(L.d)(m,t.docs[a].id));case 10:e.next=5;break;case 12:T(void 0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.shiftKey){e.next=4;break}if(confirm("Are you sure about removing all events?")){e.next=4;break}return e.abrupt("return");case 4:re();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,n,s,r,l,j,d,o,u,b,h,O,x,v,p,f,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:e.t0=i.a.keys(t);case 3:if((e.t1=e.t0()).done){e.next=27;break}if(a=e.t1.value,T("Added (".concat(a,"/").concat(t.length,")")),d=t[a],o=null!==(c=d.category)&&void 0!==c?c:d.Category,u=null!==(n=d.description)&&void 0!==n?n:d.Description,b=null!==(s=d.job)&&void 0!==s?s:d.Job,h=null!==(r=d.date)&&void 0!==r?r:d.Date,O=null!==(l=d.start)&&void 0!==l?l:d.Start,x=null!==(j=d.end)&&void 0!==j?j:d.End,o&&u&&b&&z.a&&O&&x){e.next=15;break}return e.abrupt("continue",3);case 15:return v=new Date(h),p=new Date(h),f=z.a.parse(O,"hh:mm:ss"),g=z.a.parse(x,"hh:mm:ss"),v.setHours(f.getHours()),v.setMinutes(f.getMinutes()),p.setHours(g.getHours()),p.setMinutes(g.getMinutes()),e.next=25,Object(L.a)(m,{category:o,description:u,job:b,start:v,end:p,assigned:null});case 25:e.next=3;break;case 27:T(void 0);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(e){var t=e.username.current.value,a=e.firstname.current.value,c=e.lastname.current.value,n=e.email.current.value;n!==h[A].data().email&&h.find((function(e){return e.data().email===n}))?alert("Account with the same email exists!"):(Object(L.l)(Object(L.d)(x,h[A].id),{username:t,firstname:a,lastname:c,email:n}),B(-1))},de=function(e){Object(L.c)(Object(L.d)(x,h[e].id)),B(-1)},oe=function(e){Object(L.k)(Object(L.d)(v,h[e].id),{isAdmin:!0,isSuperAdmin:!1})},ue=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("Preparing removal..."),e.next=3,Object(L.f)(Object(L.j)(x));case 3:t=e.sent,a=t.docs.filter((function(e){return e.data().setup})),c=t.docs.filter((function(e){return!e.data().setup})),e.t0=i.a.keys(c);case 7:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,T("Removed (".concat(n,"/").concat(c.length,")")),e.next=12,Object(L.c)(Object(L.d)(x,c[n].id));case 12:e.next=7;break;case 14:return T(void 0),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.shiftKey){e.next=4;break}if(confirm("Are you sure about removing all users?")){e.next=4;break}return e.abrupt("return");case 4:ue();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:a=e.sent,c=i.a.mark((function e(c){var n,s,r,l,j,d,o,u,b,h,O,v,m,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T("Added (".concat(c,"/").concat(t.length,")")),O=t[c],v=null!==(n=O.username)&&void 0!==n?n:O.Username,m=null!==(s=null!==(r=null!==(l=null!==(j=O.firstname)&&void 0!==j?j:O.Firstname)&&void 0!==l?l:O["first name"])&&void 0!==r?r:O["First name"])&&void 0!==s?s:O["First Name"],p=null!==(d=null!==(o=null!==(u=null!==(b=O.lastname)&&void 0!==b?b:O.Lastname)&&void 0!==u?u:O["last name"])&&void 0!==o?o:O["Last name"])&&void 0!==d?d:O["Last Name"],f=null!==(h=O.email)&&void 0!==h?h:O.Email,v&&m&&p&&f){e.next=8;break}return e.abrupt("return","continue");case 8:if(!a.find((function(e){return e.data().email===f}))){e.next=10;break}return e.abrupt("return","continue");case 10:return e.next=12,Object(L.a)(x,{username:v,firstname:m,lastname:p,email:f,setup:!1});case 12:case"end":return e.stop()}}),e)})),e.t0=i.a.keys(t);case 5:if((e.t1=e.t0()).done){e.next=13;break}return n=e.t1.value,e.delegateYield(c(n),"t2",8);case 8:if("continue"!==e.t2){e.next=11;break}return e.abrupt("continue",5);case 11:e.next=5;break;case 13:T(void 0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){return R.current.click()},xe=function(){var e={data:d.map((function(e){return new Object({category:e.data().category,description:e.data().description,job:e.data().job,date:e.data().date,start:e.data().start,end:e.data().end,assigned:e.data().assigned})})),headers:[{label:"Category",key:"category"},{label:"Description",key:"description"},{label:"Job",key:"job"},{label:"Date",key:"date"},{label:"Start",key:"start"},{label:"End",key:"end"},{label:"Assigned",key:"assigned"}],filename:"Extra Duties Events Report: ".concat(z.a.format(new Date,"MM/DD/YYYY"),".csv")},t={data:h.map((function(e){return new Object({username:e.data().username,firstname:e.data().firstname,lastname:e.data().lastname,email:e.data().email,setup:e.data().setup?"Y":"N"})})),headers:[{label:"Username",key:"username"},{label:"Firstname",key:"firstname"},{label:"Lastname",key:"lastname"},{label:"Email",key:"email"},{label:"Setup",key:"setup"}],filename:"Extra Duties Users Report: ".concat(z.a.format(new Date,"MM/DD/YYYY"),".csv")};q(e),$(t)},ve=40;return Object(C.jsxs)("div",{className:"consolePage admin",children:[Object(C.jsx)("input",{type:"file",hidden:!0,ref:R,onChange:function(e){var t=e.target.files[0];H.a.parse(t,{complete:function(e){switch(a){case 0:le(e.data);break;case 1:he(e.data)}},header:!0})},accept:".csv,.csvx"}),Object(C.jsx)(U.CSVLink,Object(k.a)(Object(k.a)({},_),{},{ref:ee})),Object(C.jsx)(U.CSVLink,Object(k.a)(Object(k.a)({},Z),{},{ref:te})),Object(C.jsxs)("nav",{children:[Object(C.jsx)("div",{className:0===a?"selected":"",onClick:function(){return n(0)},children:"Events"}),Object(C.jsx)("div",{className:1===a?"selected":"",selected:!0,onClick:function(){return n(1)},children:"Users"}),Object(C.jsx)("div",{className:2===a?"selected":"",selected:!0,onClick:function(){return n(2)},children:"Profile"}),Object(C.jsx)("div",{onClick:function(){return Object(S.g)(O)},children:"Sign Out"})]}),F?Object(C.jsx)("div",{className:"overlay",children:Object(C.jsx)("p",{children:F})}):void 0,Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:0===a?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{className:"title",children:"Events"}),Object(C.jsxs)("div",{className:"events",children:[d&&d.length>0?Object(C.jsxs)("div",{className:"yes",children:[Object(C.jsx)("div",{className:"header",title:"Category",children:Object(C.jsx)("p",{children:"Category"})}),Object(C.jsx)("div",{className:"header",title:"Description",children:Object(C.jsx)("p",{children:"Description"})}),Object(C.jsx)("div",{className:"header",title:"Job",children:Object(C.jsx)("p",{children:"Job"})}),Object(C.jsx)("div",{className:"header",title:"Date",children:Object(C.jsx)("p",{children:"Date"})}),Object(C.jsx)("div",{className:"header",title:"Start",children:Object(C.jsx)("p",{children:"Start"})}),Object(C.jsx)("div",{className:"header",title:"End",children:Object(C.jsx)("p",{children:"End"})}),Object(C.jsx)("div",{className:"header",title:"Assigned",children:Object(C.jsx)("p",{children:"Assigned"})}),Object(C.jsx)("div",{className:"header",title:"Actions",children:Object(C.jsx)("p",{children:"Actions"})}),d.map((function(e,t){return Object(C.jsx)(E,{v:e,i:t,editing:A,setEditing:B,usersCache:h,saveEventChanges:ce,removeAssigned:ne,removeEvent:se})}))]}):Object(C.jsx)("div",{className:"no",children:"Seems empty..."}),Object(C.jsxs)("div",{className:"options",children:[Object(C.jsx)("button",{onClick:function(){Object(L.a)(m,{category:"",description:"",job:"",start:new Date,end:new Date,assigned:null})},title:"Add new event",children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",class:"bi bi-plus",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})}),Object(C.jsx)("button",{onClick:ie,title:"Clear all events",children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",className:"bi bi-trash2",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z"})})}),Object(C.jsx)("button",{onClick:Oe,title:"Upload events spreadsheet",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",class:"bi bi-file-earmark-arrow-up",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"}),Object(C.jsx)("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})]})}),Object(C.jsx)("button",{onClick:function(){return ee.current.link.click()},title:"Download events report",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",className:"bi bi-download",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),Object(C.jsx)("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"})]})})]})]})]}):1===a?Object(C.jsxs)("div",{className:"users",children:[Object(C.jsx)("h1",{className:"title",children:"Users"}),h&&h.length>0?Object(C.jsxs)("div",{className:"yes",children:[Object(C.jsx)("div",{className:"header",title:"Username",children:"Username"}),Object(C.jsx)("div",{className:"header",title:"First Name",children:"First Name"}),Object(C.jsx)("div",{className:"header",title:"Last Name",children:"Last Name"}),Object(C.jsx)("div",{className:"header",title:"Email",children:"Email"}),Object(C.jsx)("div",{className:"header",title:"Role",children:"Setup"}),Object(C.jsx)("div",{className:"header",title:"Role",children:"Actions"}),h.map((function(e,t){return Object(C.jsx)(P,{v:e,i:t,editing:A,setEditing:B,saveUserChanges:je,removeUser:de,rolesCache:y,userPromotion:oe})}))]}):Object(C.jsx)("div",{className:"no",children:"Seems empty..."}),Object(C.jsxs)("div",{className:"options",children:[Object(C.jsx)("button",{onClick:function(){Object(L.a)(x,{username:String(Math.floor(9e5*Math.random())+1e5),firstname:"",lastname:"",email:"",setup:!1})},title:"Add new user",children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",class:"bi bi-plus",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})}),Object(C.jsx)("button",{onClick:be,title:"Clear all users",children:Object(C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",className:"bi bi-trash2",viewBox:"0 0 16 16",children:Object(C.jsx)("path",{d:"M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z"})})}),Object(C.jsx)("button",{onClick:Oe,title:"Upload users spreadsheet",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",class:"bi bi-file-earmark-arrow-up",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"}),Object(C.jsx)("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})]})}),Object(C.jsx)("button",{onClick:function(){return te.current.link.click()},title:"Download users list",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ve,height:ve,fill:"rgb(232, 83, 51)",className:"bi bi-download",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),Object(C.jsx)("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"})]})})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{className:"title",children:"Profile"}),Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.first.value,a=e.target.last.value;Object(L.l)(Object(L.d)(x,J.uid),{firstname:t,lastname:a}).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"First Name"}),Object(C.jsx)("input",{name:"first",defaultValue:K.firstname})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Last Name"}),Object(C.jsx)("input",{name:"last",defaultValue:K.lastname})]}),Object(C.jsx)("button",{children:"Save"})]}),Object(C.jsx)("button",{onClick:function(){var e=prompt("Please type in your new email.");e&&Object(S.h)(O.currentUser,e).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:"Change Email"}),Object(C.jsx)("button",{onClick:function(){var e=prompt("Please type in your new password.");e&&Object(S.i)(O.currentUser,e).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:"Change Password"})]})]})})})]})}function J(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useContext)(w),r=s.user,d=s.userData,o=Object(c.useState)([]),u=Object(j.a)(o,2),b=u[0],h=u[1],v=Object(c.useState)([]),f=Object(j.a)(v,2),g=f[0],k=f[1],y=Object(c.useState)(-1),N=Object(j.a)(y,2),M=N[0],D=N[1],z=Object(c.useState)(-1),A=Object(j.a)(z,2),E=A[0],B=A[1],H=Object(c.useState)("all"),V=Object(j.a)(H,2),P=V[0],F=V[1];Object(c.useEffect)((function(){return U()}),[]);var U=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.f)(Object(L.j)(m,Object(L.i)("start")));case 2:return t=e.sent,h(t.docs),e.next=6,Object(L.f)(Object(L.j)(x),Object(L.i)("lastname"));case 6:return a=e.sent,k(a.docs),e.next=10,Object(L.e)(Object(L.d)(p,"time"));case 10:c=e.sent,D(c.data().open),B(c.data().close),Object(L.h)(Object(L.j)(m,Object(L.i)("start")),(function(e){return h(e.docs)})),Object(L.h)(Object(L.j)(x),Object(L.i)("lastname"),(function(e){return k(e.docs)}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){Object(L.l)(Object(L.d)(m,b[e].id),{assigned:r.uid})},I=function(e){Object(L.l)(Object(L.d)(m,b[e].id),{assigned:null})},J=function(){var e=new Date;return 60*e.getUTCHours()+e.getUTCMinutes()};return Object(C.jsxs)("div",{className:"consolePage user",children:[Object(C.jsxs)("nav",{children:[Object(C.jsx)("div",{className:0===a?"selected":"",onClick:function(){return n(0)},children:"Events"}),Object(C.jsx)("div",{className:1===a?"selected":"",onClick:function(){return n(1)},children:"Profile"}),Object(C.jsx)("div",{onClick:function(){return Object(S.g)(O)},children:"Sign Out"})]}),Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:0===a?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{className:"title",children:"Events"}),Object(C.jsx)("div",{className:"events",children:-1===M?void 0:M<=J()&&J()<=E?b&&b.length>0?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{onMenuSelect:function(e){F(e.value)}}),Object(C.jsxs)("div",{className:"yes",children:[Object(C.jsx)("div",{className:"header",title:"Category",children:Object(C.jsx)("p",{children:"Category"})}),Object(C.jsx)("div",{className:"header",title:"Description",children:Object(C.jsx)("p",{children:"Description"})}),Object(C.jsx)("div",{className:"header",title:"Job",children:Object(C.jsx)("p",{children:"Job"})}),Object(C.jsx)("div",{className:"header",title:"Date",children:Object(C.jsx)("p",{children:"Date"})}),Object(C.jsx)("div",{className:"header",title:"Start",children:Object(C.jsx)("p",{children:"Start"})}),Object(C.jsx)("div",{className:"header",title:"End",children:Object(C.jsx)("p",{children:"End"})}),Object(C.jsx)("div",{className:"header",title:"Assigned",children:Object(C.jsx)("p",{children:"Assigned"})}),b.map((function(e,t){return Object(C.jsx)(Y,{v:e,i:t,usersCache:g,takeEvent:R,cancelEvent:I,searchMethod:P})}))]})]}):Object(C.jsx)("div",{className:"no",children:"Seems empty..."}):Object(C.jsxs)("div",{className:"closed",children:["The sign up window is currently closed! Opening at ",function(e){var t=Math.floor(e/60),a=e%60,c=new Date;return c.setUTCHours(t),c.setUTCMinutes(a),c.setSeconds(0),c}(M).toLocaleTimeString()]})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{className:"title",children:"Profile"}),Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.first.value,a=e.target.last.value;Object(L.l)(Object(L.d)(x,r.uid),{firstname:t,lastname:a}).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"First Name"}),Object(C.jsx)("input",{name:"first",defaultValue:d.firstname})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Last Name"}),Object(C.jsx)("input",{name:"last",defaultValue:d.lastname})]}),Object(C.jsx)("button",{children:"Save"})]}),Object(C.jsx)("button",{onClick:function(){var e=prompt("Please type in your new email.");e&&Object(S.h)(O.currentUser,e).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:"Change Email"}),Object(C.jsx)("button",{onClick:function(){var e=prompt("Please type in your new password.");e&&Object(S.i)(O.currentUser,e).then((function(){return alert("Successful!")})).catch((function(e){return alert(e.message)}))},children:"Change Password"})]})]})})})]})}a(90);function K(){return Object(C.jsx)("div",{children:"404"})}function Q(){var e=Object(c.useState)(void 0),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(void 0),r=Object(j.a)(s,2),d=r[0],b=r[1],h=Object(c.useState)(void 0),m=Object(j.a)(h,2),p=m[0],k=m[1];Object(c.useEffect)((function(){var e=Object(u.d)(O,(function(e){return e?y(e):N()}));return function(){return e()}}),[]);var y=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(Object(o.c)(x,t.uid));case 2:return a=e.sent,e.next=5,Object(o.d)(Object(o.c)(v,t.uid));case 5:c=e.sent,k(V(c)),document.title="Welcome, ".concat(a.data().firstname,"!"),n(t),b(a.data());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){n(void 0),b(void 0),k(void 0)};return Object(C.jsx)(w.Provider,{value:{user:a,userData:d,userRole:p},children:Object(C.jsx)(f.a,{children:Object(C.jsxs)(g.d,{children:[Object(C.jsx)(M,{exact:!0,unauthed:!0,path:"/",redirect:"/console",component:D}),Object(C.jsx)(M,{exact:!0,authed:!0,path:"/console",redirect:"/",component:R}),Object(C.jsx)(K,{})]})})})}var W=document.getElementById("root");s.a.render(Object(C.jsx)(c.StrictMode,{children:Object(C.jsx)(Q,{})}),W)}},[[91,1,2]]]);
//# sourceMappingURL=main.c8ef97da.chunk.js.map